\ProvidesPackage{codespace}

% Need python Pygments and --shell-escape flag
\RequirePackage[dvipsnames]{xcolor}
\RequirePackage{tikz}
\RequirePackage[framemethod=tikz]{mdframed}
\RequirePackage{minted,verbatim}
\RequirePackage[linesnumbered,lined,boxed,commentsnumbered]{algorithm2e}

% Configurations
\mdfdefinestyle{codeframe}{
  backgroundcolor=magenta!10,
  leftline=false,
  rightline=false,
  nobreak=false
}

\usemintedstyle{emacs}

% \setmintedinline takes higher precedance in case you want to use it
\setminted{
  linenos=true,
  autogobble=true,
  breaklines=true,
  breaksymbolleft={},
  firstnumber=1,
  obeytabs=true,
  tabsize=2
}

\newenvironment{code}[1]{
  \VerbatimEnvironment%
  \begin{mdframed}[style=codeframe]%
    \begin{minted}{#1}%
}{
    \end{minted}%
  \end{mdframed}%
}

\newcommand{\inputcode}[2]{
  \begin{mdframed}[style=codeframe]%
    \inputminted{#1}{#2}%
  \end{mdframed}%
}
