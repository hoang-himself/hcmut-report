\ProvidesPackage{codespace}

% Options can be used to add more predefined colors (see Section 4)
% e.g.: dvipsnames, svgnames, x11names
\RequirePackage{xcolor}

\RequirePackage{tikz}
\RequirePackage[framemethod=tikz]{mdframed}
\RequirePackage{listings,lstautogobble}
\RequirePackage{minted,verbatim}

% Configurations
\colorlet{codebackground}{magenta!10}
\definecolor{codebasic}{RGB}{106,106,106}
\definecolor{codeidentifier}{RGB}{0,0,0}
\definecolor{codecomment}{RGB}{0,136,0}
\definecolor{codestring}{RGB}{187,68,68}
\definecolor{codekeyword}{RGB}{170,34,255}

\lstdefinestyle{codeframe}{
  float=H,
  frame=lines,
  backgroundcolor=\color{codebackground},
}
\lstdefinestyle{codestyle}{
  basicstyle=\color{codebasic}\ttfamily,
  identifierstyle=\color{codeidentifier},
  commentstyle=\color{codecomment}\itshape,
  stringstyle=\color{codestring},
  keywordstyle=\color{codekeyword},
  numbers=left,
  %firstnumber=1,
  numbersep=2pt,
  numberstyle=\tiny,
  autogobble=true,
  breaklines=true,
  showstringspaces=false,
  tabsize=2
}
\lstset{
  style=codeframe,
  style=codestyle
}

\mdfsetup{
  leftline=false,
  rightline=false,
  backgroundcolor=codebackground,
  nobreak=false
}
\usemintedstyle{emacs}
\setminted{
  linenos=true,
  numbers=left,
  %firstnumber=1,
  autogobble=true,
  breaklines=true,
  breaksymbolleft={},
  tabsize=2
}

\newenvironment{code}[1]{
  \VerbatimEnvironment%
  \begin{mdframed}%
    \begin{minted}{#1}%
}{
    \end{minted}%
  \end{mdframed}%
}

\newenvironment{altcode}[1]{
  \VerbatimEnvironment%
  \begin{mdframed}[backgroundcolor=gray!10]%
    \begin{minted}{#1}%
}{
    \end{minted}%
  \end{mdframed}%
}

\newcommand{\inputcode}[3][]{
  \begin{mdframed}%
    \inputminted[#1]{#2}{#3}%
  \end{mdframed}%
}
